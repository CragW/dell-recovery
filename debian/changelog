dell-recovery (0.32) UNRELEASED; urgency=low

  * Now that Dell's internal tools have support for FISH packages that
    are single debs not published in FI format, allow them on the FISH page.

 -- Mario Limonciello <superm1@ubuntu.com>  Thu, 03 Dec 2009 21:58:20 -0600

dell-recovery (0.31) karmic; urgency=low

  * Add support for reading .discinfo from RHEL disks.
  * When reading in a base image, set self.distributor before updating git info.
  * If lsb_release isn't available, set some sane variables.
  * Strip out the possible enterprise and server bits from lsb_release.
  * Catch exceptions when spawning the backend and try to log them if possible
    to improve debugability.
  * Hook up the command line argument --target to actually do things.
  * Test for "Download" in ~ before just assuming "Downloads" is our ideal dir.
  * In the backend, clobber all files with FID overlay regardless of date.
    This helps billerica images as well as FID changes that were created
    before an image was published.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Wed, 18 Nov 2009 09:32:02 -0600

dell-recovery (0.30) karmic; urgency=low

  * Make the regeneration of the UUID optional, and only if the appropriate 
    files are present.  Allows Billerica images to proceed a little bit 
    further.
  * Iterate the list of items in .disk/info to find the first floating point 
    number to assign to the release series.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 09 Nov 2009 17:32:32 -0600

dell-recovery (0.29) karmic; urgency=low

  * Add a short README directing users to the right places for HOWTOs.
  * Don't show X-rev tags in builder mode if A-rev tags are present unless
    an extra command line argument is added.
  * Don't erroneously call builder_fid_toggled a whole bunch of times when
    choosing an ISO image.
  * Optionally allow choosing branches via a command line override.  Useful
    for one-off projects where tip is known stable.

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 05 Nov 2009 15:44:17 -0600

dell-recovery (0.28) karmic; urgency=low

  * if .disk/info exists, just assume ubuntu rather than trying to read
    a string out of it.  Prevents issues with moblin and kubuntu images.
  * drop python-vte to recommends, and don't fail if it can't import.
    Just provide a warning about how builder mode will likely not work.
  * depends on policykit-1-gnome to ensure that the proper things to allow
    this to work on KDE are installed.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 03 Nov 2009 13:21:17 -0600

dell-recovery (0.27) karmic; urgency=low

  * Don't import gtk.glade.  It's not used anymore.
  * Set the backend timeout to 0.  Prevents the app timing out inbetween
    long runs.
  * If the recovery partition is not detected, offer to run the application
    in BTO image builder mode.  There aren't many other uses for it.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 02 Nov 2009 12:22:18 -0600

dell-recovery (0.26) karmic; urgency=low

  * Introduce a builder mode that can be used for generating BTO images from
    their different components.
  * Rename existing method query_version to query_bto_version and only check
    it at the last step in case it gets filled earlier (with builder mode)
  * Correct an error in the backend handling code for when an image can't mount.
  * debian/control:
    - Depends on python-vte for builder git features.
    - Recommends on git-core, usb-creator-gtk
    - Bump standards version
  * Don't ask a question about where to store the ISO.  Instead, lets always
    assume it ends up in Downloads.  This is useful now because usb-creator
    will look there anyway by default.
  * Apply markup to the summary page in both modes.
  * Close the backend when we are finished, either from the close dialog or
    the success dialog.

 -- Mario Limonciello <mario_limonciello@dell.com>  Fri, 30 Oct 2009 17:26:57 -0500

dell-recovery (0.25) karmic; urgency=low

  * Add support to the backend for querying/incrementing the version of the
    ISO via RP/bto_version.
  * Add support for the override the version of the ISO via a frontend command
    line argument.
  * Add support for the backend to write out RP/bto_version during ISO
    generation if it doesn't exist, and replace it if it does.
  * Add support for both initrd.lz and initrd.gz
  * sync bin/create-new-uuid with casper to add lzma support.
  * Rename the create function to create_ubuntu as realistically it's an ubuntu
    only backend.  We'll need to evaluate a separate backend for other OSes, and
    then maybe create a common backend function that can be shared.
  * If the RP is already mounted before starting, try to use that old mount
    point if at all possible when querying existing BTO version.
  * Don't delete .exe and .sys files from the RP, just ignore them when creating
    an image.
  * Mount the RP read only.  We really shouldn't be changing it with this tool
    anyway.  This has huge side effects on how we have to recreate files in a
    temporary directory that will have to be changing rather than loop mounting
    them around.
  * Replace all string addition with os.path.join to avoid missing '/' characters.
  * Move all mounting and unmounting logic into singular functions.
  * Only unmount directories that we've mounted
  * Try to use existing system mount points if already mounted if possible.
  * Add support for producing an image from a directory, rather than mount point.
  * debian/postinst:
    - Refresh dbus rules on package install so it works immediately.
  * Be more informative about the status indicators.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 19 Oct 2009 13:37:05 -0500

dell-recovery (0.24) karmic; urgency=low

  * Port over to polkit-1.
  * debian/control:
    - Depends on policykit-1.
  * Update translations from launchpad.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 29 Sep 2009 16:24:36 -0500

dell-recovery (0.23) karmic; urgency=low

  * boot:
    - Use initrd.lz as Ubuntu 9.10+ switched to this.

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 30 Jul 2009 12:50:37 -0500

dell-recovery (0.22) karmic; urgency=low

  * recovery_frontend:
    - Support using usb-creator, usb-creator-gtk, or usb-creator-kde for burning
      ISO images to a USB stick.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 27 Jul 2009 11:48:32 -0500

dell-recovery (0.21) karmic; urgency=low

  * boot:
    - Update to new syntax for the grub2 in Ubuntu 9.10.
  * udev:
    - Rename rule to have priority of 96.  didn't work at 95.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 22 Jul 2009 18:36:01 -0500

dell-recovery (0.20) karmic; urgency=low

  * udev:
    - Add a udev rule so that devicekit-disks will hide Dell recovery
      partitions on factory shipped Linux systems.
  * recovery_frontend:
    - Add support for devicekit-disks.  If this fails, fall back to HAL.
  * debian/control:
    - Depends on devicekit-disks or hal for system detection.
    - Drop depends on python-glade2
  * Migrate from libglade to gtkbuilder.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 22 Jul 2009 18:13:20 -0500

dell-recovery (0.19) karmic; urgency=low

  * Add a manpage showing current usage.
  * COPYING:
    - Put a copy of the GPL2, not GPL3.
  * debian/control:
    - Set maintainer to have an @ubuntu.com
    - Add bzr info.
    - Set section more sanely to utils.
    - Set standards version to 3.8.1 (no changes necessary).
    - Add a Suggests for grub-pc.  The app works fine without it, but is
      more feature-filled with it installed.
  * debian/changelog:
    - Update to be GPL2, not GPL3.

 -- Mario Limonciello <superm1@ubuntu.com>  Sat, 23 May 2009 14:28:45 -0500

dell-recovery (0.18) jaunty; urgency=low

  * Only fill in the UP or RP variables independently if they are 
    already empty.
  * Don't offer a retry dialog in the event a burning fails.  Some burners
    don't actually have reliable return codes.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 28 Apr 2009 14:46:34 -0500

dell-recovery (0.17) jaunty; urgency=low

  * Add support for command line arguments.
  * Update string indicating recovery is complete.

 -- Mario Limonciello <mario_limonciello@dell.com>  Fri, 10 Apr 2009 16:28:49 -0500

dell-recovery (0.16) jaunty; urgency=low

  * Add a COPYING file w/ license for when we start to make tarballs.
  * Add a CHANGES file (which is really just a symlink to debian/changelog)
  * Detect the filesystem of the rp.  A Linux RP is vfat.  Anything else
    means that it's not an RP. (Windows RP is ntfs-3g)

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 09 Apr 2009 17:55:03 -0500

dell-recovery (0.15) jaunty; urgency=low

  * Downgrade usb-creator to Recommends
  * Add brasero | nautilus-cd-burner to Recommends.
  * Add support for not using a burner.  If none of the burning software
    above was detected, then we'll just default to creating an ISO somewhere.
  * Touch the file we are creating before actually creating it from the dbus
    backend.  This makes the file owned by the first user who touched it (Us!)
    rather than root:root from the dbus backend.
  * Add optional support to use lsb-release to show information about 
    what release this ISO is being generated for.
  * Fix a GTKWarning about a separator setting that was getting ignored.
  * Add translation support to the .desktop file.
  * Drop first run note.  It wasn't working anyway.
  * Update translations from launchpad.
  * Add missing ${misc:Depends} to debian/control.
  * Update description in debian/control.
  * Add some artwork from dell-recovery directly to this package.
  * Remove explicitly hardcoded paths from .desktop file.
  * Explicitly set icon path in glade file instead.
  * Rename all translations from dell-recovery-LANG to LANG.  See launchpad answers
    #66257 for more information.
  * Merge in grub2 bootsplash stuff to this package.  We'll only show the bootsplash
    when the package is installed.  This rids us of the last dependency on dell-artwork.
  * Update 06_dell_theme to not use deprecated methods from grub2 anymore.

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 02 Apr 2009 13:34:55 -0500

dell-recovery (0.14) jaunty; urgency=low

  * Rather than calling the backend with a gksudo wrapper,
    use policy kit to authorize it's call.
  * Call the backend via an async dbus call.  The method to do this
    was borrowed from Jockey as normal async calls were mixing up
    exceptions and what not.
  * Rename progress_dialogs.glade to the more appropriate 
    recovery_media_creator.glade.
  * Check for CD and USB burning applications when initializing the UI.  If a 
    particular type isn't found, then don't allow the application to run.
  * Add 99_dell_recovery (taken from china customizations) to the install.  This
    will prepare dell-recovery for when grub2 is made default.
  * Update 99_dell_recovery to match the string that we have for grub1

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 31 Mar 2009 18:18:02 -0500

dell-recovery (0.13) jaunty; urgency=low

  * Don't enable or disable volume manager anymore.  Not necessary
    with the HAL FDI file we ship now.
  * Split up all activity between a frontend and backend script.  This
    allows the GUI to run without root priv's and the actual script to
    run with root priv's.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 24 Mar 2009 17:21:17 -0500

dell-recovery (0.12) jaunty; urgency=low

  * Cleanup an isolinux directory if it exists at the same
    time as a syslinux directory.
  * If the UP already exists, say if we are recovering from
    a recovery, no need to go and make it again.
  * Use brasero instead of nautilus-cd-burner since nautilus
    cd burner is no longer included in 9.04.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 23 Mar 2009 15:13:01 -0500

dell-recovery (0.11) jaunty; urgency=low

  * Don't build the MBR backup when creating recovery media.
    We'll dynamically create the partition table instead.
  * Don't gzip the UP.  We've plenty of space on the DVD media, so might as well
    speed up the process of backup and recovery.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 17 Mar 2009 11:46:34 -0500

dell-recovery (0.10) jaunty; urgency=low

  * debian/control:
    - Drop dependency on menu.
  * debian/links:
    - Install actual .desktop file to /etc/skel rather than symlink.
  * import translations from launchpad.
  * Don't allow this tool to run on systems without a UP and RP.
    This is an undefined case that would likely fail anyway.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 03 Mar 2009 12:39:41 -0600

dell-recovery (0.9) jaunty; urgency=low

  * Update FDI file for changes in jaunty.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 25 Feb 2009 12:16:57 -0600

dell-recovery (0.8) jaunty; urgency=low

  * Add HAL FDI file for hiding recovery partition (LP: #325008)
  * Add updated translations from launchpad.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 03 Feb 2009 14:38:41 -0600

dell-recovery (0.7) intrepid; urgency=low

  * Import more translations from launchpad.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 26 Nov 2008 10:18:46 -0600

dell-recovery (0.6) intrepid; urgency=low

  * Add translations from launchpad.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 25 Nov 2008 20:59:31 -0600

dell-recovery (0.5) intrepid; urgency=low

  * Move syslinux.cfg if it exists to isolinux.cfg.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 25 Nov 2008 02:16:47 -0600

dell-recovery (0.4) intrepid; urgency=low

  * Allow retrying failed burns.  This works around what appears to be either
    a GTK or nautilus-cd-burner bug where nautilus-cd-burner is crashing
    immediately.
  * Clean up some warnings on startup.
  * Remove old separators that were not necessary.
  * Add taskbar hints to all relevant dialogs.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 24 Nov 2008 12:58:58 -0600

dell-recovery (0.3) intrepid; urgency=low

  * New release.
    - Move syslinux to isolinux in case we want to recover from a recovery.
  * Filter out all .sys files in / so that there aren't errors later with
    usb-creator.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 05 Nov 2008 13:59:32 -0600

dell-recovery (0.2) intrepid; urgency=low

  * New release.
    - Adds USB Drive support
    - Adds a popup nag dialog
  * debian/control:
    - Bump standards version
    - Depend upon usb-creator for USB support.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Fri, 31 Oct 2008 17:24:13 -0400

dell-recovery (0.1) hardy; urgency=low

  * Initial Release.

 -- Mario Limonciello <mario_limonciello@dell.com>  Fri, 21 Mar 2008 18:58:40 -0500
