dell-recovery (0.64) UNRELEASED; urgency=low

  [ Mario Limonciello ]
  * Use the newly available progress bar from all ubiquity plugins to display
    status while building the RP.
  * Split out the propagated kernel options into their own file, to make sure
    they are common to the RP after install too.
  * If common.cfg is missing, don't flip out.
  * Make sure that BOOT_IMAGE is not propagating into the RP.
  * Always output the name of the plugin in debug strings.
  * Fix backwards list for une/ude in UI chooser.
  * Correct a rounding regression with the switch to parted for making partitions.
  * Add some additional debugging for all installs to share more about the creation
    of the UP and grub.
  * Strip the stray characters at the end of extra command line.

  [ Peter Petrakis ]
  * Record the base iso used in the bto_manifest
  * Calculate the md5sum of each driver fish and record it in bto_md5sum

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Fri, 06 Aug 2010 08:39:15 -0500

dell-recovery (0.63) maverick; urgency=low

  * Fix a regression with tgz type fish packages from previous pylint cleanup
    due to tarfile not containing an __exit__ method.
  * When operating on a newer ubiquity version, hide the progress_section
    at window bottom.
  * Drop the title string on the bootstrap page.  It looks funny.
  * Don't propagate BOOT_IMAGE either to target system.
  * Add a title string to the recovery page, it looks funny without it.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Thu, 05 Aug 2010 17:43:39 -0500

dell-recovery (0.62) maverick; urgency=low

  * Work around a bug with interactions between a non-KMS plymouth and
    casper running when VT7 is active by not running casper stop if
    'noprompt' is not present in /proc/cmdline.
  * Add a (hidden) advanced settings popup window for dell-bootstrap.
  * New side effects for the advanced settings popup:
    - All advanced configuration options get propogated to the /proc/cmdline
      used during installation (off the RP).
    - The number of callbacks, set_, and get_ functions needed to be reduced
      to allow code to be reused.
    - All template questions that were used a lot were reused multiple times
      now have common definitions to avoid keeping the strings all over.
    - Set the table of advanced features inactive when running on non-genuine
      HW and also when running in HDD recovery mode.
  * Set type as the last action in updating the UI to avoid dual boot settings
    mucking with it.
  * Drop the dell-language ubiquity plugin.  It was only used to keep a constant
    title, which ubiqutiy now has support for.
  * Merge in the dell-default-ui plugin from dell-oobe (which is now unnecessary).
  * Merge translations from launchpad.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Mon, 02 Aug 2010 18:37:18 -0500

dell-recovery (0.61) maverick; urgency=low

  [ Mario Limonciello ]
  * Be clearer in the logging what "Fixed up device" means.
  * Don't show an error for being unable to run dell-recovery in non-oem
    mode.
  * Don't override the ubiquity title with a hack anymore.  Rely on doing
    this via ubiquity/custom_title_text in the preseed.
  * Make adjustments to be compatible with the ubiquity Maverick redesign.
    - Don't modify step_label.
    - Add a plugin_title key so that we show title_section.
  * Update deprecated ParseSection for TagSection in dell-bootstrap.
  * Add a new method to the backend that causes the system to be prepared
    to run in recovery mode on the next boot.
  * Correct usage of the builtin function 'filter'.  Thanks Peter Petrakis.
  * Add basic support for a new start page that isn't part of GTKAsssitant
    allowing the use of menus, more dialogs, and launching restoration
    directly from a frontend.
  * Cleanup a variety of warnings that pylint was throwing.
  * Update translations from launchpad.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Sat, 24 Jul 2010 17:52:27 -0500

dell-recovery (0.60) maverick; urgency=low

  * When genisoimage fails, be more informative in it's error message
    to the user about why it may have failed.
  * Merge translations from launchpad.
  * Mark some more strings translatable that previously weren't.
  * For FISH scripts, just execute them rather than special casing python and
    shell.  This means all scripts need #!/bin/sh or #!/bin/python at the top.
  * If FIST is found, don't extract the UP.  This means factory process ( of
    some sort )
  * Reverse the order of calling /tmp/set_active_partition and SUCCESS_SCRIPT
    to prevent problems with BTO Anywhere.
  * When calling scripts in non-negotiable, don't use exec. (LP: #602414)
  * Update for deprecated isInstalled to use is_installed instead.
  * Add a new tri-state knob for configuring the behavior of swap
    dell-recovery/swap = (true, [dynamic], false)
    - false will force swap on
    - false will force swap off
    - dynamic (default) will detect small drives (<=64GB).  If one of these 
      is found, disable the creation of a swap partition. (LP: #601780)
  * Disable terminal spawning if debug-ubiquity mode is enabled since the
    same effect can be achieved with ctrl-alt-T.
  * Drop support for running in virtualbox.  If it's actually desirable, vbox
    has support to modify the DMI information.
  * For grub conffiles, write out in the new 10.10 syntax when working with
    newer media.
  * Write out a UUID to search for in the grub conffile in the event that it's
    not actually on hd0.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Thu, 17 Jun 2010 15:09:45 -0500

dell-recovery (0.59) maverick; urgency=low

  * Add a new preseedable option to set a disk layout (supports mbr or gpt).
    - During install if we are in GPT mode (but not EFI), then install grub
      to the partition as our success failover
  * If we detect /proc/efi on the system, force the disk layout to gpt.
  * Use efibootmgr to twiddle the NVRAM to set the active device if on
    an EFI system.
  * Drop old fdisk based hacks for making partition tables when in mbr
    mode.  
    - Now use a parted wrapper.  
    - python-parted would be nice to use, but would add another dependency.
    - parted_server/partman would be nice too, but are a little cumbersome
      to work with outside the context of d-i or ubiquity partitioning.
  * Don't try to build a recovery partition if we detect that we are booted
    to the same device.
  * Drop kexec support.
  * When working in gpt mode, workaround a partman-partitioning bug that
    would otherwise prevent the bootloader from being installed.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Fri, 11 Jun 2010 16:33:48 -0500

dell-recovery (0.58) lucid; urgency=low

  * Adjust alignment from ubiquity changes in v2.2.23.
    - Bootstrap page now has yalign 0 and no fixed width
    - Recovery Media creation page, yalign 0 and remove some fixed widths
  * Merge translations from launchpad.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Mon, 26 Apr 2010 14:59:06 -0500

dell-recovery (0.57) lucid; urgency=low

  [ Mario Limonciello ]
  * Import translations from launchpad.
  * Add the ability to disable nvidia driver installation during install too.
  * Add an additional postinstallation script directory for non-negotiable items
    shipped with this package.
  * Add a script to call the DKMS autoinstallation script to catch any modules
    that may have failed to build/install during install such as PAE kernels. 
    (LP: #563906)
  * match_system_device: Don't allow matching anything without a 0x preceding it.
    - Still allows base 16 ints
    - Still allows base 16 ints encapsulated in a string
  * Invert topdown for match system device.
  * Ignore devices / vendor id that are too long.
  * Add a test to test all devices on a system to the source package.

  [ James Ferguson ]
  * match_system_device: Don't recursively follow symlinks after the first
    level.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Wed, 21 Apr 2010 23:12:35 -0500

dell-recovery (0.56) lucid; urgency=low

  * Handle the exception that no casper UUID or no initrd are in the image by
    displaying it more nicely.
    - Although we can probably work around this, it will be troublesome down
      the road, so it's better to catch it and notify the user it's a broken
      image.
  * Try harder to detect the locale chosen at bootstrap.
  * Filter more gfxboot menu selections from propagating through the system
    from the locale that they had selected.
  * Default to use git:// protocol rather than http://.  It's far quicker for
    checkouts anyhow.
  * Render the icon at 128x128 to avoid GTK warnings.
  * Don't remove any items during SDR or UP explosion.  Rely on them being
    cleaned up at during the success command instead.
  * Shuffle the widgets around on the bootstrap page so that they stop getting
    clipped when translations are loaded.
  * Move gtk.Spinner into an eventbox so that glade doesn't nuke it every time
    the gtk.Builder file is modified.
  * Fix up the padding a little bit on the create recovery media page.
  * Import translations from launchpad.
  * Set the cancel button to an imported Cancel rather than always english.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Sat, 17 Apr 2010 12:55:03 -0500

dell-recovery (0.55) lucid; urgency=low

  * Add support for type 0x27 partitions (NTFS Win7 Recovery partition).
  * When first building the UP, check for all possible upimg filenames.
  * Add two binary files taken directory from factory process that are used
    to produce a compatible MBR and PBR such that DellDiags can be launched
    from a BIOS menu.
  * Use some crafty maneuvering to create the UP using parted rather than
    mkfs.vfat.  The latter appears to not properly fill out bytes 11-35 of
    the PBR causing it to not be bootable.
  * Take the necessary bytes out of the two binary files to place them in
    place, making the PBR properly bootable.
  * debian/control:
    - Drop recommends for syslinux since we use our own mbr now.
  * When operating in ubiquity debug mode, expose exceptions even if we're
    in a factory boot.
  * If we didn't include an autoexec.bat/config.sys (as is the case from normal
    DellDiags releases), then make the files we need to be bootable.
  * Update icon to new Dell branding icon and render it at a higher resolution.
  * Do a better job at filtering command line options that shouldn't propagate
    to the target system.
  * Replace dell-dvd png with an svg so that is scales better at high resolution.
  * Filter extra kernel command line arguments in all scenarios, not just if
    dell-recovery is in the kernel command line.
  * Shuffle the dell-bootstrap plugin to come before language again.
    - This will allow us to use debian-installer/language to preseed the install
      to a particular language.
    - This also allows the rest of the UI to be customized besides just the
      dell-bootstrap plugin.
  * Fix translation support.  We should be able to load translations for all
    widgets now.
  * Introduce a 3rd ubiquity plugin that forces the title of the parent window.
    This is necessary because bootstrap runs before the language page, which
    which reset the title again.
    - Only load it if we don't have dell-recovery/recovery_type on kernel 
      command line (which means factory mode)
  * Adjust the names of some of the templates to not show items as bold in
    the bootstrap plugin.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Thu, 15 Apr 2010 00:55:47 -0500

dell-recovery (0.54) lucid; urgency=low

  * Fix a crash in HDD mode from get_selected_device not being initialized
    in that context.
  * Import translations from launchpad.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Sun, 11 Apr 2010 00:38:17 -0500

dell-recovery (0.53) lucid; urgency=low

  * Add a preseedable template to mark which partition should be active
    after a successful installation.
    - For an installation that is resizing another OS, don't set this key.
  * Pull in portions of the SUCCESS, FAIL, and chroot scripts to this package.
    - The ones on the recovery partition will still be executed if they exist,
      but they will also be removed after execution.
  * Produce a shell script to make sure that sfdisk is called on the right
    device.
  * Don't copy kernel command line parameters to the extra debug options in the
    recovery partition grub.cfg
  * Don't propagate debian-installer preseeds through.
  * Add a preseedsable template to mark which partition should be active
    after a failed installation.
  * If active or failed partition isn't preseeded, set a sane default for the 
    resize case.
  * Don't propagate any ubiquity (automatic-ubiquity, debug-ubiquity) kernel
    command lines through to the actual system install.
  * When in dual boot mode, don't install grub onto the RP.
  * When in dual boot mode, calculate the size of and produce additional
    partitions for the other OS to install into.
  * When in dual boot mode, install grub onto the 4th partition so that install
    can kick itself off.
  * When in dual boot mode, don't offer the resize options.

 -- Mario Limonciello <superm1@ubuntu.com>  Sat, 10 Apr 2010 10:30:05 -0500

dell-recovery (0.52) lucid; urgency=low

  * dell-bootstrap:
    - Actually append drivers to the to_remove list
    - Allow multiple drivers to be blocked from install (by comma separated list).
    - On the debug image, output the version number.
    - Enable some level of translation.  It's still got some issues, but is better
      than before.
  * Add an argument to check the currently installed version.
  * Only import GTK for the necessary pieces.
  * backend:
    - Add a new function: query_have_dell_recovery that will determine if a 
      dell-recovery deb or rpm is on the filesystem of an image or in a BTO tree.
  * builder:
    - If dell-recovery isn't included in the chosen image or in the chosen FID
      tree, then support injecting it into the image.
    - Make sure to clean up dynamic buttons when necessary.
  * Don't allow building the list store if git was installed and removed.
  * Catch exceptions when errors happen installing packages.
  * Import translations from launchpad.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Mon, 05 Apr 2010 22:50:45 -0500

dell-recovery (0.51) lucid; urgency=low

  * Don't fail reinstall if missing an SDR.
  * Import translations from launchpad.
  * Add a new template: dell-recovery/disable-driver-install, which will block
    the installation of a preseeded list of drivers during postinstall phase 
    from Jockey.
  * When running in ubiquity debug mode, spawn a terminal to use.
  * Add a new dual boot template used to enable a dual boot preseed.
  * Propagate the dual boot parameters through the command line on installation
  * Add a new template: dell-recovery/dual_boot_seed.
    - This template's primary purpose is to add an additional seed to stack on
      the default seed.
    - When configured, the dell-recovery, dell-oobe, and dell-eula packages will
      not be installed.
    - For this to work, you need to be using casper 1.215 or later.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Thu, 01 Apr 2010 19:07:49 -0500

dell-recovery (0.50) lucid; urgency=low

  * Add some strings that may be used in a EULA plugin.
  * Set the orientation to vertical on some vboxes that were showing horizontal.
  * GTK Frontend:
    - Raise exceptions when having errors initializing the backend.
  * BTO Frontend:
    - Rename fish page to drivers page
    - Guard drivers page from same file multiple times
    - Add a new applications page that matches applications to SRVs
  * Backend:
    - Support building a folder of SRVs that will be processed in
      the ubiquity frontend.
  * Bootstrap:
    - Add support to scan the RP for an SDR and explode SRVs that match it.
    - Automatically remove all SRVs after explosion.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Wed, 31 Mar 2010 03:31:26 -0500

dell-recovery (0.49) lucid; urgency=low

  * Another correction that should help widget translation in BTO builder
    mode.
  * If the media contains a pool script, then configure it to be called
    during the oem-config early command.
  * When propagating kernel parameters, filter out any dell-recovery/
    specific ones.
  * Ensure that the recovery partition is mounted read only during the OOBE.
  * Add a new template for preseeding the pool rebuild command used during
    install as well as during OOBE early preparation.
  * Import translations from launchpad.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Mon, 29 Mar 2010 01:16:58 -0500

dell-recovery (0.48) lucid; urgency=low

  * Dell/recovery_common.py:
    - Introduce a python version of create-new-uuid that is more flexible on
      names of casper uuid's and formats of initrds.
    - Move walk_cleanup here.
  * Dell/recovery_backend.py:
    - Don't preserve symlinks on the overlay of the FID tree.  Can cause issues
      during generation.
    - Move the walk_cleanup function out
    - Use the python version of create-new-uuid instead.
  * debian/control:
    - Recommends for parted.
    - Drop git-core from recommends.  it will be pulled in during runtime if
      needed.
  * ubiquity/bootstrap:
    - Hide loopback devices from being offered.
    - Always replace a grub.cfg on the recovery partition.
    - Automatically propagate any extra kernel command line options (after --)
      into the installed system and any grub menu recovery options.
    - Add the builder into the ubiquity array of builders so it can be
      translated.
  * ubiquity/dell-recovery:
    - Add the builder into the ubiquity array of builders so it can be
      translated.
  * Update text for reboot dialog to not tell people to take out their media
    so soon.  It's actually OK now to do an install with the media in the drive
    too.
  * Mark all BTO image builder strings for translation too.
  * Enable translation for all GTK based frontends, not just standard.
  * create-new-uuid:
    - Drop, superceded by a python version
  * Update translations from launchpad.

 -- Mario Limonciello <superm1@ubuntu.com>  Sat, 27 Mar 2010 05:05:35 -0500

dell-recovery (0.47) lucid; urgency=low

  * Fix timestamp on stepDellBootstrap.ui to fix FTBFS.
  * Update translations from launchpad.

 -- Mario Limonciello <superm1@ubuntu.com>  Wed, 24 Mar 2010 20:18:49 -0500

dell-recovery (0.46) lucid; urgency=low

  * Default to a 32mb UP rather than no UP if upimg.bin is missing.
  * Add support to also extract a .zip or .tgz for a UP rather than an image.
  * Move the UP explosion step to the beginning of install rather than during
    the RP build.
  * Allow handling early exceptions.  For interactive type installs, show the
    error.  For noninteractive installs, the error will be logged in syslog.
  * Offer in the frontend to produce an image with a utility partition in BTO
    mode.
  * Fix the frontend to declare the intro page as an intro page and all other
    pages as progress pages.
  * Move the declarations of valid up names to recovery_common.
  * In the backend, clear out any existing UP's in an image if we are providing
    a new one.
  * Add logic to process .zip and .tgz type UP's in the backend.
  * Update translations from launchpad.
  * Install the 99_dell_recovery in /usr/share/dell/grub rather than
    /usr/share/dell.
  * Move grub.cfg from the ubuntu-fid tree into dell-recovery.
  * Move the functions for dynamically filling out grub files into
    recovery_common.
  * Dynamically fill grub.cfg's partition and OS information out.
  * Clean up the text for the reboot dialog to clarify the action that needs
    to happen.
  * Add a tooltip to the dell-dvd image to show the device the recovery media
    is mounted on, for debug purposes.
  * Convert the swap detection unmount routine to use udisks.
  * Convert the install disk detection routine to use udisks.
  * No longer rely on the preseeded value for partman-auto/disks.  We'll be
    detecting entirely independently now for that.
  * Since we can more accurately detect disks, don't enable EDD for any of the
    default boot options anymore.
  * Set the default recovery partition grub menu colors to red/white rather than
    red/black to better emulate what we see in the factory with failures.
  * Detect invalid recovery partition filesystems and notify the user.
  * Send the detected potential devices list to the frontend.
  * Allow the user to select a different disk than the first one in the UI if
    they would like to.
  * Add support for FAT32 LBA.
  * Default to FAT32 LBA.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Wed, 24 Mar 2010 19:34:52 -0500

dell-recovery (0.45) lucid; urgency=low

  * Remove the bootsplash theming as it may be adding an unnecessary delta
    to boot speed.
  * Only install dell-recovery if we have an RP during the install and will
    be going through the OOBE from the Linux side.
  * Hide NTFS based WinRE partitions (whether they have linux content or not)
  * Add basic support for installing from alternative partition types.
    - Support NTFS and VFAT initially
    - Don't hardcode the mount type when mounting freshly formatted partitions.
    - Don't install grub to an NTFS RP during factory install, kexec, or post
      reboot situations.
    - Iterate the labels before the devices.  Inefficient, but saves us trouble
      from the wrong device getting picked up early.
    - Allow detection of recovery partitions to pick up NTFS w/ the right label
      (RECOVERY)
  * Use udisks to find the details for the RP rather than parsing files manually
    in /dev
  * Don't install the grub.d line on all systems with dell-recovery.  Instead
    during OOBE, detect if there is an RP and conditionally install it.
  * During the backend's create_ubuntu function, check for .disk/info to verify
    this is really a partition containing Ubuntu.
  * Adjust spacing on the bootstrap page.
  * Don't show HDD recovery if not genuine.
  * Dynamically fill the content of the 99_dell_recovery during OOBE.
  * Catch errors trying to cleanup during unmount on the backend.
  * Import translations from launchpad.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Fri, 19 Mar 2010 16:08:52 -0500

dell-recovery (0.44) lucid; urgency=low

  Ubiquity bootstrap plugin:
  * Run after the language page rather than before all pages.  This should
    allow the UI to be fully translated (if available).
  * Set the icon for recovery media to 'desktop' rather than 'start-here'.
    The default 'start-here' icon isn't very visible.
  * Use partx to force an update to the kernel about what devices are on the
    system after removing them using parted during bootstrap.
  * Also cleanup extended partitions.  Some assumptions are made here, so this
    might need to be expanded upon if it breaks.
  * Update boot background to reflect new branding.
  * Add help text to explain the minimum size necessary for flash drives.
  * Move the info_window into the main window rather than as a popup.
  * Clean up some unnecessary widgets from the bootstrap page.
  * Hide close/minimize from any popup windows.
  * Draw attention away from the steps portion of the window by setting it non
    sensitive and hiding it when the recovery partition build starts.
  * Fix whitelist building for dell-bootstrap to not miss files in the root
    directory.

  Recovery Backend:
  * List out any FISH packages in a bto_manifest that gets stored in the ISO.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Tue, 16 Mar 2010 13:40:15 -0500

dell-recovery (0.43) lucid; urgency=low

  * Add a new function to recovery_common to support checking if the devices
    in a system match an ID.
  * Use sysfs to read dmi info rather than dmidecode.
  * Add all the strings from the ubiquity pages to debian/templates, which 
    should enable translation for all of them.
  * Don't raise permissions for check vendor anymore since it's just parsing.
  * Always try to install dell-recovery, and adobe-flashplugin even if they
    aren't in debs/main.
  * Don't show device nodes on the summary page.
  * Merge translations from launchpad.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Thu, 11 Mar 2010 18:39:51 -0600

dell-recovery (0.42) lucid; urgency=low

  * Unbreak BTO image builder mode from previous commit.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Tue, 09 Mar 2010 18:38:29 -0600

dell-recovery (0.41) lucid; urgency=low

  * Ask for PW only after last wizard page.

 -- Mario Limonciello <superm1@ubuntu.com>  Tue, 09 Mar 2010 09:52:19 -0600

dell-recovery (0.40) lucid; urgency=low

  * Create separate udev rules for devkit and udisks since they need
    to match on different things.
  * ubiquity/dell-recovery.py:
    - Only show the page if a dvd or usb burner is available.  No use showing
      when the only option is "None"
    - Update the Install class to use current ubiquity functions.
  * ubiquity/dell-bootstrap.py:
    - Only touch the oem-config run file if oem-config was preseeded.
    - Allow starting from a partition called RECOVERY in case we came from
      a Win7 RE.

 -- Mario Limonciello <superm1@ubuntu.com>  Sun, 07 Mar 2010 01:12:28 -0600

dell-recovery (0.39) lucid; urgency=low

  * dell-bootstrap:
    - Unset oem-config/{early,late}_commands when doing an install that doesn't
      include an RP.
    - Fill in the data dynamically for the oem-config early command.
    - Reference partition numbers and /cdrom mount from variables to more easily
      change later as necessary.
    - Use the casper init script to cache all the binaries and libraries needed
      to reboot.
  * Allow setting the OS and Swap partitions that are cleared during install
    from preseed parameters, dell-recovery/{os_partition, swap_partition}
  * Remove unused has_separator from ubiquity bootstrap plugin.
  * Adjust 99_dell_recovery to refer to ubuntu.seed instead for reinstall.
  * Don't allow the recovery window to be closed or minimized.
  * Disable kexec by default.  It appears to cause problems on non-KMS HW.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Fri, 05 Mar 2010 17:48:57 -0600

dell-recovery (0.38) lucid; urgency=low

  * dell-bootstrap:
    - Don't eject the media for the user.  This appears to cause some problems with
      current daily media in that portions of the squashfs needed for displaying
      that dialog haven't yet been cached.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Tue, 23 Feb 2010 15:47:48 -0600

dell-recovery (0.37) lucid; urgency=low

  * Port another missed area from devkit-disks to udisks.
  * debian/control:
    - drop python-central build depends.
    - Enhances: ubiquity-frontend-gtk
    - Recommends: syslinux
  * Add a function to ensure this is running on Dell hardware during OEM config.
  * Move white_tree into common to allow it to be used by the ubiquity GUI too.
  * Introduce bootstrap mode if the package is installed pre-ubiquity run.
    - (N/A) for oem-config run.
    - Causes the bootstrap/ portion of git to be unnecessary
    - Pulls in some of the post install portions of git to earlier in the install.
    - (LP: #525136)
  * debian/postinst:
    - Don't fail if dbus can't be reloaded.
  * Only ask for permissions to mount hard drives, feel free to loop mount devices
    without additional permissions.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Mon, 22 Feb 2010 19:21:08 -0600

dell-recovery (0.36) lucid; urgency=low

  * Fix translations stuff so that we only use one template (dell-recovery)
    that should be imported from Launchpad in a mergable branch.
  * Don't continually loop mount ISOs when they are selected in the GUI.
    Most systems run out of loopback devices at 7 and dell-recovery doesn't like
    that too much.
  * Encode strings that sent over dbus when mounting directories (LP: #514452)
  * debian/control:
    - Add a depends on udisks.
  * Add support for UDisks, followed by falling back to Devkit-disks and lastly
    HAL.
  * Convert package to dh7 rather than cdbs.
  * Convert package to a v3 source package.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Tue, 16 Feb 2010 17:39:18 -0600

dell-recovery (0.35) lucid; urgency=low

  * Correct a minor error that prevented the backend from running when a utility
    partition was present but upimg.bin wasn't on the recovery partition.

 -- Mario Limonciello <mario_limonciello@dell.com>  Fri, 15 Jan 2010 17:03:11 -0600

dell-recovery (0.34) lucid; urgency=low

  * Put all the builder code into it's own python file to clean up the frontend
    code.  Move the logic to determine if to use builder into the main startup
    script instead.
  * Remove extraneous builder_ prefix from all builder specific functions.
  * Fix running in builder mode on a non-preloaded system.
  * Clean up arguments in main launcher script that determines whether or not
    to be running in builder mode.
  * Move the logic to increment the BTO version into the various frontends
    rather than incrementing during the backend query_bto_version method.
  * Only offer DVD burning if DVD burning hardware is on the system.
  * Rather than just greying out the DVD burner radio buttons when DVD burning
    hardware isn't available, hide the widgets all together to avoid confusion
    as to why the widget is greyed out.
  * Clean up the OEM config page to line up the widgets and add some nicer
    icons.
  * Add icons for the normal GTK frontend's media selection page.
  * Don't show the full path on the summary page.  Prevents the GUI from
    growing in size (in normal circumstances) in builder mode.
  * Use query_iso_information in the frontend rather than query_bto_version to
    ensure the information being queried is reflective of the OS on the RP
    not the running OS.
  * Move the default value of 'A00' when no BTO version is defined into the
    increment_bto_version function used in recovery_common.
  * Automatically close the fetch window when complete.
  * Don't show the terminal for fetching, but allow it to be expanded.
  * Add a cancel button to the fetch if the user wants to abort it.
  * Add a pulsing thread to the backend so that it can report during activities
    that it has no idea when they will  be done.
  * If the progress is -1% done, pulse the  bar in the GTK frontend
  * In the OEM-Config frontend, show some ASCII characters when we don't know
    the true progress.

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 14 Jan 2010 18:29:58 -0600

dell-recovery (0.33) lucid; urgency=low

  [ Mario Limonciello ]
  * Split out the common stuff that is used by the backend and frontend into a
    common python script.
  * Don't require an utility partition to declare a system a preloaded system.
    During development it's possible that UP's aren't included.
  * Move the function to find burners into -common so alternative frontends
    can use it.
  * Introduce an OEM-Config plugin to force the user to at least be questioned
    to create recovery media for the first time.
  * Don't install an icon on new users' desktops anymore since the questions
    are posed via OEM-config.
  * Clean up the old icon from the skel folder in case other new users are made.
  * debian/control: Mark as enhances for oem-config-gtk
  * Fix "Error parsing subject struct" when running on Lucid (no apparent 
    regressions on Karmic with this fix)
  * Since .desktop file is no longer on the desktop, rename it's action to be
    more appropriate.
  * Add a lintian overrides file for errors that are irrelevant.
  * Add translation support to templates for strings shown only in Ubiquity.
  * If git-core isn't installed, but the user is running in builder mode, offer
    to install it using aptdaemon if available.
  * debian/control: Recommends on python-aptdaemon-gtk
  * Prevent a crash if the git server is unaccessible when trying to fetch
    the list of items.

  [ Javier Collado ]
  * Use re to parse the BTO version number more flexibly.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 06 Jan 2010 16:23:02 -0600

dell-recovery (0.32) karmic; urgency=low

  * Now that Dell's internal tools have support for FISH packages that
    are single debs, pdfs, python scripts or shell scripts
    not published in FI format, allow them on the FISH page.

 -- Mario Limonciello <superm1@ubuntu.com>  Thu, 03 Dec 2009 21:58:20 -0600

dell-recovery (0.31) karmic; urgency=low

  * Add support for reading .discinfo from RHEL disks.
  * When reading in a base image, set self.distributor before updating git info.
  * If lsb_release isn't available, set some sane variables.
  * Strip out the possible enterprise and server bits from lsb_release.
  * Catch exceptions when spawning the backend and try to log them if possible
    to improve debugability.
  * Hook up the command line argument --target to actually do things.
  * Test for "Download" in ~ before just assuming "Downloads" is our ideal dir.
  * In the backend, clobber all files with FID overlay regardless of date.
    This helps billerica images as well as FID changes that were created
    before an image was published.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Wed, 18 Nov 2009 09:32:02 -0600

dell-recovery (0.30) karmic; urgency=low

  * Make the regeneration of the UUID optional, and only if the appropriate 
    files are present.  Allows Billerica images to proceed a little bit 
    further.
  * Iterate the list of items in .disk/info to find the first floating point 
    number to assign to the release series.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 09 Nov 2009 17:32:32 -0600

dell-recovery (0.29) karmic; urgency=low

  * Add a short README directing users to the right places for HOWTOs.
  * Don't show X-rev tags in builder mode if A-rev tags are present unless
    an extra command line argument is added.
  * Don't erroneously call builder_fid_toggled a whole bunch of times when
    choosing an ISO image.
  * Optionally allow choosing branches via a command line override.  Useful
    for one-off projects where tip is known stable.

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 05 Nov 2009 15:44:17 -0600

dell-recovery (0.28) karmic; urgency=low

  * if .disk/info exists, just assume ubuntu rather than trying to read
    a string out of it.  Prevents issues with moblin and kubuntu images.
  * drop python-vte to recommends, and don't fail if it can't import.
    Just provide a warning about how builder mode will likely not work.
  * depends on policykit-1-gnome to ensure that the proper things to allow
    this to work on KDE are installed.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 03 Nov 2009 13:21:17 -0600

dell-recovery (0.27) karmic; urgency=low

  * Don't import gtk.glade.  It's not used anymore.
  * Set the backend timeout to 0.  Prevents the app timing out inbetween
    long runs.
  * If the recovery partition is not detected, offer to run the application
    in BTO image builder mode.  There aren't many other uses for it.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 02 Nov 2009 12:22:18 -0600

dell-recovery (0.26) karmic; urgency=low

  * Introduce a builder mode that can be used for generating BTO images from
    their different components.
  * Rename existing method query_version to query_bto_version and only check
    it at the last step in case it gets filled earlier (with builder mode)
  * Correct an error in the backend handling code for when an image can't mount.
  * debian/control:
    - Depends on python-vte for builder git features.
    - Recommends on git-core, usb-creator-gtk
    - Bump standards version
  * Don't ask a question about where to store the ISO.  Instead, lets always
    assume it ends up in Downloads.  This is useful now because usb-creator
    will look there anyway by default.
  * Apply markup to the summary page in both modes.
  * Close the backend when we are finished, either from the close dialog or
    the success dialog.

 -- Mario Limonciello <mario_limonciello@dell.com>  Fri, 30 Oct 2009 17:26:57 -0500

dell-recovery (0.25) karmic; urgency=low

  * Add support to the backend for querying/incrementing the version of the
    ISO via RP/bto_version.
  * Add support for the override the version of the ISO via a frontend command
    line argument.
  * Add support for the backend to write out RP/bto_version during ISO
    generation if it doesn't exist, and replace it if it does.
  * Add support for both initrd.lz and initrd.gz
  * sync bin/create-new-uuid with casper to add lzma support.
  * Rename the create function to create_ubuntu as realistically it's an ubuntu
    only backend.  We'll need to evaluate a separate backend for other OSes, and
    then maybe create a common backend function that can be shared.
  * If the RP is already mounted before starting, try to use that old mount
    point if at all possible when querying existing BTO version.
  * Don't delete .exe and .sys files from the RP, just ignore them when creating
    an image.
  * Mount the RP read only.  We really shouldn't be changing it with this tool
    anyway.  This has huge side effects on how we have to recreate files in a
    temporary directory that will have to be changing rather than loop mounting
    them around.
  * Replace all string addition with os.path.join to avoid missing '/' characters.
  * Move all mounting and unmounting logic into singular functions.
  * Only unmount directories that we've mounted
  * Try to use existing system mount points if already mounted if possible.
  * Add support for producing an image from a directory, rather than mount point.
  * debian/postinst:
    - Refresh dbus rules on package install so it works immediately.
  * Be more informative about the status indicators.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 19 Oct 2009 13:37:05 -0500

dell-recovery (0.24) karmic; urgency=low

  * Port over to polkit-1.
  * debian/control:
    - Depends on policykit-1.
  * Update translations from launchpad.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 29 Sep 2009 16:24:36 -0500

dell-recovery (0.23) karmic; urgency=low

  * boot:
    - Use initrd.lz as Ubuntu 9.10+ switched to this.

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 30 Jul 2009 12:50:37 -0500

dell-recovery (0.22) karmic; urgency=low

  * recovery_frontend:
    - Support using usb-creator, usb-creator-gtk, or usb-creator-kde for burning
      ISO images to a USB stick.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 27 Jul 2009 11:48:32 -0500

dell-recovery (0.21) karmic; urgency=low

  * boot:
    - Update to new syntax for the grub2 in Ubuntu 9.10.
  * udev:
    - Rename rule to have priority of 96.  didn't work at 95.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 22 Jul 2009 18:36:01 -0500

dell-recovery (0.20) karmic; urgency=low

  * udev:
    - Add a udev rule so that devicekit-disks will hide Dell recovery
      partitions on factory shipped Linux systems.
  * recovery_frontend:
    - Add support for devicekit-disks.  If this fails, fall back to HAL.
  * debian/control:
    - Depends on devicekit-disks or hal for system detection.
    - Drop depends on python-glade2
  * Migrate from libglade to gtkbuilder.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 22 Jul 2009 18:13:20 -0500

dell-recovery (0.19) karmic; urgency=low

  * Add a manpage showing current usage.
  * COPYING:
    - Put a copy of the GPL2, not GPL3.
  * debian/control:
    - Set maintainer to have an @ubuntu.com
    - Add bzr info.
    - Set section more sanely to utils.
    - Set standards version to 3.8.1 (no changes necessary).
    - Add a Suggests for grub-pc.  The app works fine without it, but is
      more feature-filled with it installed.
  * debian/changelog:
    - Update to be GPL2, not GPL3.

 -- Mario Limonciello <superm1@ubuntu.com>  Sat, 23 May 2009 14:28:45 -0500

dell-recovery (0.18) jaunty; urgency=low

  * Only fill in the UP or RP variables independently if they are 
    already empty.
  * Don't offer a retry dialog in the event a burning fails.  Some burners
    don't actually have reliable return codes.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 28 Apr 2009 14:46:34 -0500

dell-recovery (0.17) jaunty; urgency=low

  * Add support for command line arguments.
  * Update string indicating recovery is complete.

 -- Mario Limonciello <mario_limonciello@dell.com>  Fri, 10 Apr 2009 16:28:49 -0500

dell-recovery (0.16) jaunty; urgency=low

  * Add a COPYING file w/ license for when we start to make tarballs.
  * Add a CHANGES file (which is really just a symlink to debian/changelog)
  * Detect the filesystem of the rp.  A Linux RP is vfat.  Anything else
    means that it's not an RP. (Windows RP is ntfs-3g)

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 09 Apr 2009 17:55:03 -0500

dell-recovery (0.15) jaunty; urgency=low

  * Downgrade usb-creator to Recommends
  * Add brasero | nautilus-cd-burner to Recommends.
  * Add support for not using a burner.  If none of the burning software
    above was detected, then we'll just default to creating an ISO somewhere.
  * Touch the file we are creating before actually creating it from the dbus
    backend.  This makes the file owned by the first user who touched it (Us!)
    rather than root:root from the dbus backend.
  * Add optional support to use lsb-release to show information about 
    what release this ISO is being generated for.
  * Fix a GTKWarning about a separator setting that was getting ignored.
  * Add translation support to the .desktop file.
  * Drop first run note.  It wasn't working anyway.
  * Update translations from launchpad.
  * Add missing ${misc:Depends} to debian/control.
  * Update description in debian/control.
  * Add some artwork from dell-recovery directly to this package.
  * Remove explicitly hardcoded paths from .desktop file.
  * Explicitly set icon path in glade file instead.
  * Rename all translations from dell-recovery-LANG to LANG.  See launchpad answers
    #66257 for more information.
  * Merge in grub2 bootsplash stuff to this package.  We'll only show the bootsplash
    when the package is installed.  This rids us of the last dependency on dell-artwork.
  * Update 06_dell_theme to not use deprecated methods from grub2 anymore.

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 02 Apr 2009 13:34:55 -0500

dell-recovery (0.14) jaunty; urgency=low

  * Rather than calling the backend with a gksudo wrapper,
    use policy kit to authorize it's call.
  * Call the backend via an async dbus call.  The method to do this
    was borrowed from Jockey as normal async calls were mixing up
    exceptions and what not.
  * Rename progress_dialogs.glade to the more appropriate 
    recovery_media_creator.glade.
  * Check for CD and USB burning applications when initializing the UI.  If a 
    particular type isn't found, then don't allow the application to run.
  * Add 99_dell_recovery (taken from china customizations) to the install.  This
    will prepare dell-recovery for when grub2 is made default.
  * Update 99_dell_recovery to match the string that we have for grub1

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 31 Mar 2009 18:18:02 -0500

dell-recovery (0.13) jaunty; urgency=low

  * Don't enable or disable volume manager anymore.  Not necessary
    with the HAL FDI file we ship now.
  * Split up all activity between a frontend and backend script.  This
    allows the GUI to run without root priv's and the actual script to
    run with root priv's.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 24 Mar 2009 17:21:17 -0500

dell-recovery (0.12) jaunty; urgency=low

  * Cleanup an isolinux directory if it exists at the same
    time as a syslinux directory.
  * If the UP already exists, say if we are recovering from
    a recovery, no need to go and make it again.
  * Use brasero instead of nautilus-cd-burner since nautilus
    cd burner is no longer included in 9.04.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 23 Mar 2009 15:13:01 -0500

dell-recovery (0.11) jaunty; urgency=low

  * Don't build the MBR backup when creating recovery media.
    We'll dynamically create the partition table instead.
  * Don't gzip the UP.  We've plenty of space on the DVD media, so might as well
    speed up the process of backup and recovery.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 17 Mar 2009 11:46:34 -0500

dell-recovery (0.10) jaunty; urgency=low

  * debian/control:
    - Drop dependency on menu.
  * debian/links:
    - Install actual .desktop file to /etc/skel rather than symlink.
  * import translations from launchpad.
  * Don't allow this tool to run on systems without a UP and RP.
    This is an undefined case that would likely fail anyway.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 03 Mar 2009 12:39:41 -0600

dell-recovery (0.9) jaunty; urgency=low

  * Update FDI file for changes in jaunty.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 25 Feb 2009 12:16:57 -0600

dell-recovery (0.8) jaunty; urgency=low

  * Add HAL FDI file for hiding recovery partition (LP: #325008)
  * Add updated translations from launchpad.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 03 Feb 2009 14:38:41 -0600

dell-recovery (0.7) intrepid; urgency=low

  * Import more translations from launchpad.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 26 Nov 2008 10:18:46 -0600

dell-recovery (0.6) intrepid; urgency=low

  * Add translations from launchpad.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 25 Nov 2008 20:59:31 -0600

dell-recovery (0.5) intrepid; urgency=low

  * Move syslinux.cfg if it exists to isolinux.cfg.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 25 Nov 2008 02:16:47 -0600

dell-recovery (0.4) intrepid; urgency=low

  * Allow retrying failed burns.  This works around what appears to be either
    a GTK or nautilus-cd-burner bug where nautilus-cd-burner is crashing
    immediately.
  * Clean up some warnings on startup.
  * Remove old separators that were not necessary.
  * Add taskbar hints to all relevant dialogs.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 24 Nov 2008 12:58:58 -0600

dell-recovery (0.3) intrepid; urgency=low

  * New release.
    - Move syslinux to isolinux in case we want to recover from a recovery.
  * Filter out all .sys files in / so that there aren't errors later with
    usb-creator.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 05 Nov 2008 13:59:32 -0600

dell-recovery (0.2) intrepid; urgency=low

  * New release.
    - Adds USB Drive support
    - Adds a popup nag dialog
  * debian/control:
    - Bump standards version
    - Depend upon usb-creator for USB support.

 -- Mario Limonciello <Mario_Limonciello@Dell.com>  Fri, 31 Oct 2008 17:24:13 -0400

dell-recovery (0.1) hardy; urgency=low

  * Initial Release.

 -- Mario Limonciello <mario_limonciello@dell.com>  Fri, 21 Mar 2008 18:58:40 -0500

